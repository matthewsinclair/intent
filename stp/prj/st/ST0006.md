---
verblock: "06 Mar 2025:v0.1: Matthew Sinclair - Initial version"
---
# ST0006: Help System

- **Status**: Completed
- **Created**: 2025-03-06
- **Completed**: 2025-06-03
- **Author**: Matthew Sinclair

## Objective

Implement a comprehensive help system for STP that provides users with command-specific guidance, usage examples, and general information about the system.

## Context

A good help system is essential for improving user experience and adoption. This steel thread implements the help system for STP, including the `stp help` command, command-specific help, and a methodology for maintaining help documentation alongside the code.

## Approach

1. Design the help system architecture
2. Create a help file format and structure
3. Implement the `stp help` command and its subcommands
4. Create help files for all existing commands
5. Ensure the help system is extensible for future commands

## Tasks

- [x] Design the help file format and structure
- [x] Implement the `stp help` command
- [x] Implement command-specific help (e.g., `stp help init`)
- [x] Create help files for all existing commands
- [x] Add functionality to list all available commands
- [x] Implement dynamic discovery of commands for help listings
- [x] Add examples and usage scenarios to help documentation
- [x] Document the help system and how to extend it
- [x] Test help system with various commands and scenarios

## Implementation Notes

### Help File Structure

Help files are stored in the `.help` directory and follow a consistent format:

- Filename pattern: `command.help.md`
- Structure:
  ```
  @short: Brief one-line description
  @desc:
  Detailed multi-line description
  
  @usage:
  command [options] <arguments>
  
  @examples:
  command example1
  command example2
  ```

### Help Command Implementation

The `stp help` command:
1. Without arguments, displays a list of all available commands with short descriptions
2. With a command argument (e.g., `stp help init`), displays detailed help for that command
3. Dynamically discovers available commands by scanning for `stp_*` scripts

### Dynamic Command Discovery

The system:
- Scans the bin directory for `stp_*` scripts to identify available commands
- Extracts short descriptions from corresponding help files
- Formats the output in a consistent and readable way
- Handles the case of missing help files gracefully

### Multi-line Description Handling

The help system properly formats multi-line descriptions, maintaining:
- Proper indentation
- Paragraph structure
- Code blocks and examples
- Lists and other formatting

## Results

The help system was successfully implemented with all planned functionality. The system:

- Provides clear, concise help for all STP commands
- Supports both general help and command-specific detailed help
- Dynamically discovers commands, making it extensible as new commands are added
- Maintains a consistent format across all help documentation
- Improves user experience by providing usage examples and clear instructions

The implementation significantly improves usability by making it easy for users to learn how to use the system and discover available functionality.

## Related Steel Threads

- ST0002: Core Script Framework
- ST0004: Steel Thread Commands
- ST0005: Initialization Command
- ST0007: User Documentation

## Context for LLM

This document represents a single steel thread - a self-contained unit of work focused on implementing a specific piece of functionality. When working with an LLM on this steel thread, start by sharing this document to provide context about what needs to be done.

### How to update this document

1. Update the status as work progresses
2. Check off tasks as they are completed
3. Add implementation notes as decisions are made or challenges encountered
4. Add results when the steel thread is completed
5. Mark the completion date when finished

The LLM should assist with implementation details and help maintain this document as work progresses.